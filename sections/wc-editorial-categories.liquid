{{ 'wc-editorial-categories.css' | asset_url | stylesheet_tag }}

<section class="editorial-categories" role="region" aria-label="Categorias editoriais">
  <div class="editorial-categories__container page-width">
    <div class="editorial-categories__grid editorial-categories__grid--{{ section.blocks.size }}">
      {% for block in section.blocks %}
        {% assign card_classes = "editorial-categories__card" %}

        {% if block.settings.content_position == 'content-top' %}
          {% assign card_classes = card_classes | append: " editorial-categories__card--content-top" %}
        {% endif %}

        <article
          class="{{ card_classes }}"
          data-padding-bottom="{{ block.settings.padding_bottom }}"
          style="--desktop-margin-top: {{ block.settings.desktop_margin_top }}px;"
        >
          {% if block.settings.content_position == 'content-top' %}
            <div
              class="editorial-categories__content"
              data-align-content="{{ block.settings.align_content_position }}"
            >
              {% if block.settings.title %}
                <h3 class="editorial-categories__title">
                  {{ block.settings.title }}
                </h3>
              {% endif %}

              {% if block.settings.description != blank %}
                <p class="editorial-categories__description">
                  {{ block.settings.description }}
                </p>
              {% endif %}

              {% if block.settings.cta_label %}
                <a href="{{ block.settings.link }}" class="editorial-categories__cta" role="button">
                  {{ block.settings.cta_label }}
                  <img
                    src="{{ 'arrow-right-alt.svg' | asset_url }}"
                    alt=""
                    width="20"
                    height="20"
                    loading="lazy"
                    aria-hidden="true"
                  >
                </a>
              {% endif %}
            </div>

            <div class="editorial-categories__image-wrapper">
              {% if block.settings.image %}
                <img
                  src="{{ block.settings.image | image_url: width: 900 }}"
                  alt="{{ block.settings.image.alt | escape }}"
                  loading="lazy"
                  width="600"
                  height="600"
                >
              {% endif %}
            </div>
          {% else %}
            <div class="editorial-categories__image-wrapper">
              {% if block.settings.image %}
                <img
                  src="{{ block.settings.image | image_url: width: 900 }}"
                  alt="{{ block.settings.image.alt | escape }}"
                  loading="lazy"
                  width="600"
                  height="600"
                >
              {% endif %}
            </div>

            <div
              class="editorial-categories__content"
              data-align-content="{{ block.settings.align_content_position }}"
            >
              {% if block.settings.title %}
                <h3 class="editorial-categories__title">
                  {{ block.settings.title }}
                </h3>
              {% endif %}

              {% if block.settings.description != blank %}
                <p class="editorial-categories__description">
                  {{ block.settings.description }}
                </p>
              {% endif %}

              {% if block.settings.cta_label %}
                <a href="{{ block.settings.link }}" class="editorial-categories__cta" role="button">
                  {{ block.settings.cta_label }}
                  <img
                    src="{{ 'arrow-right-alt.svg' | asset_url }}"
                    alt=""
                    width="20"
                    height="20"
                    loading="lazy"
                    aria-hidden="true"
                  >
                </a>
              {% endif %}
            </div>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  </div>
</section>


{% schema %}
{
  "name": "Categorias editorial",
  "tag": "section",
  "class": "section-editorial-categories",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "category",
      "name": "Categoria",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Imagem"
        },
        {
          "type": "select",
          "id": "content_position",
          "label": "Posição do conteúdo",
          "options": [
            {
              "value": "image-top",
              "label": "Imagem em cima | Conteúdo embaixo"
            },
            {
              "value": "content-top",
              "label": "Conteúdo em cima | Imagem embaixo"
            }
          ],
          "default": "image-top"
        },
        {
          "type": "select",
          "id": "align_content_position",
          "label": "Alinhamento do conteúdo",
          "options": [
            {
              "value": "start",
              "label": "Alinhado à esquerda"
            },
            {
              "value": "center",
              "label": "Centralizado"
            },
            {
              "value": "end",
              "label": "Alinhado à direita"
            }
          ],
          "default": "center"
        },
        {
          "type": "checkbox",
          "id": "padding_bottom",
          "label": "Adicionar padding inferior extra",
          "default": false
        },
        {
          "type": "text",
          "id": "title",
          "label": "Título",
          "default": "Rasteiras & Birkens"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descrição",
          "default": "A categoria de Sandália Rasteira da Sapatella é um verdadeiro paraíso para os amantes de conforto e estilo."
        },
        {
          "type": "text",
          "id": "cta_label",
          "label": "Texto do CTA",
          "default": "Eu quero"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link de destino"
        },
        {
          "type": "range",
          "id": "desktop_margin_top",
          "label": "Margem superior no desktop (px)",
          "min": 0,
          "max": 200,
          "step": 4,
          "default": 0,
          "info": "Ajuste a posição vertical de cada card no desktop"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Categorias editorial",
      "blocks": [
        {
          "type": "category",
          "settings": {
            "title": "Rasteiras & Birkens",
            "cta_label": "Eu quero",
            "content_position": "image-top",
            "desktop_margin_top": 0,
            "padding_bottom": true
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Sandálias",
            "cta_label": "Conferir",
            "content_position": "content-top",
            "desktop_margin_top": 64
          }
        },
        {
          "type": "category",
          "settings": {
            "title": "Tênis",
            "cta_label": "Conferir",
            "content_position": "image-top",
            "desktop_margin_top": 32
          }
        }
      ]
    }
  ]
}
{% endschema %}
